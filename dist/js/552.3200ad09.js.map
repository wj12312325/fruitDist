{"version":3,"file":"js/552.3200ad09.js","mappings":"qKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,WAAW,CAACG,YAAY,CAAC,OAAS,iBAAiBC,MAAM,CAAC,OAAS,EAAE,eAAe,GAAG,gBAAgB,YAAY,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,OAAO,YAAc,kBAAkBJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,OAAO,YAAc,kBAAkBJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,OAAO,YAAc,+BAA+B,GAAGJ,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,eAAeL,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACJ,EAAIO,GAAG,WAAWP,EAAIQ,GAAIR,EAAIS,aAAa,SAASC,GAAS,OAAOR,EAAG,MAAM,CAACS,IAAID,EAAQE,GAAGR,YAAY,oBAAoB,CAACF,EAAG,OAAO,CAACE,YAAY,WAAWS,MAAM,CAAEC,SAA8B,GAApBJ,EAAQI,UAAmBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,cAAcP,EAASV,EAAIS,YAAY,IAAI,CAACT,EAAIO,GAAGP,EAAIkB,GAAGR,EAAQS,cAAcjB,EAAG,IAAI,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,cAAcP,EAASV,EAAIS,YAAY,IAAI,CAACP,EAAG,OAAO,CAACE,YAAY,MAAM,CAACJ,EAAIO,GAAGP,EAAIkB,GAAGR,EAAQU,gBAAgBlB,EAAG,OAAO,CAACE,YAAY,MAAM,CAACJ,EAAIO,GAAGP,EAAIkB,GAAGR,EAAQW,UAAUnB,EAAG,OAAO,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA6B,GAAtBf,EAAQgB,WAAoBC,WAAW,+BAA+BvB,YAAY,MAAM,CAACJ,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACoB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAA2B,GAApBf,EAAQI,SAAkBa,WAAW,6BAA6BvB,YAAY,MAAM,CAACJ,EAAIO,GAAG,YAAY,IAAGL,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,KAAK,CAACE,YAAY,OAAO,CAACJ,EAAIO,GAAG,UAAUP,EAAI4B,GAAG,GAAG1B,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,KAAK,CAACE,YAAY,OAAO,CAACJ,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACG,YAAY,CAAC,YAAY,OAAO,iBAAiB,QAAQ,CAACL,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMuB,EAAQ,MAAkB,IAAM,MAAM3B,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACF,EAAIO,GAAGP,EAAIkB,GAAI,GAAElB,EAAI8B,6BAA6B9B,EAAIO,GAAG,cAAcL,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACG,YAAY,CAAC,YAAY,OAAO,iBAAiB,QAAQ,CAACL,EAAIO,GAAG,UAAUP,EAAIQ,GAAIR,EAAI+B,UAAU,SAASC,GAAM,OAAO9B,EAAG,KAAK,CAACS,IAAIqB,EAAKpB,GAAGR,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,WAAWE,MAAM,CAAC,IAAO,GAAEN,EAAIiC,SAASD,EAAKE,WAAWC,UAAU,UAAUjC,EAAG,KAAK,CAACA,EAAG,IAAI,CAACF,EAAIO,GAAGP,EAAIkB,GAAGc,EAAKE,WAAWE,eAAelC,EAAG,KAAK,CAACF,EAAIO,GAAG,eAAeL,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIO,GAAG,IAAIP,EAAIkB,GAAGc,EAAKE,WAAWG,kBAAkBnC,EAAG,KAAK,CAACE,YAAY,UAAU,CAACJ,EAAIO,GAAG,IAAIP,EAAIkB,GAAGc,EAAKM,WAAWpC,EAAG,KAAK,CAACG,YAAY,CAAC,YAAY,SAAS,CAACL,EAAIO,GAAG,SAAS,KAAI,GAAGL,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,WAAWL,EAAG,WAAW,CAACE,YAAY,eAAeE,MAAM,CAAC,YAAc,gBAAgB,KAAO,WAAW,KAAO,GAAGiC,MAAM,CAACd,MAAOzB,EAAIwC,aAAcC,SAAS,SAAUC,GAAM1C,EAAIwC,aAAaE,CAAG,EAAEf,WAAW,mBAAmB,IAAI,GAAGzB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACJ,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACF,EAAIO,GAAGP,EAAIkB,GAAGlB,EAAI+B,SAASY,aAAazC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,WAAWL,EAAG,OAAO,CAACF,EAAIO,GAAG,IAAIP,EAAIkB,GAAGlB,EAAI4C,mBAAmB1C,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,MAAM,CAACJ,EAAIO,GAAG,WAAWL,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAGP,EAAIkB,GAAGlB,EAAI6C,mBAAmBzB,kBAAkBlB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACE,YAAY,MAAM,CAACJ,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAGP,EAAIkB,GAAGlB,EAAI6C,mBAAmB1B,cAAcjB,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAGP,EAAIkB,GAAGlB,EAAI6C,mBAAmBxB,cAAcnB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACa,GAAG,CAAC,MAAQf,EAAI8C,cAAc,CAAC9C,EAAIO,GAAG,eAAe,IACnmH,EACIwC,EAAkB,CAAC,WAAY,IAAI/C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACJ,EAAIO,GAAG,WACtK,G,oBC0HA,GACAgB,KAAA,QACAyB,OACA,OACAC,QAAA,EACAC,SAAA,IACAV,aAAA,GACAW,WAAA,EACAC,SAAA,GACAC,aAAA,GACAC,MAAA,EACAC,QAAA,EAEA,EACA,sBACA,KAAAC,mBACA,KAAAC,gBACA,KAAAC,aACA,EACAC,QAAA,CAEA,yBACA,KAAAC,OAAAC,SAAA,0BACAZ,QAAA,KAAAA,QACAC,SAAA,KAAAA,SACAY,QAAA,KAAAC,SAAAnD,KAEA,KAAAuC,WAAA,KAAA1C,YAAAuD,MAAAC,GAAA,GAAAA,EAAAvC,aAAAd,EACA,EAEA,sBACA,KAAAgD,OAAAC,SAAA,oBACAjD,GAAA,KAAAmD,SAAAnD,GACAqC,QAAA,KAAAA,QACAC,SAAA,KAAAA,SACApC,SAAA,IAEA,IAAAoD,EAAA,GACAC,EAAA,GACA,QAAAC,KAAA,KAAArC,SACAmC,EAAAG,KAAAD,EAAAlC,WAAAtB,IACAuD,EAAAE,KAAAD,EAAA9B,QAEA,KAAAc,SAAAc,EAAAI,WACA,KAAAjB,aAAAc,EAAAG,UACA,EAEA,0BACA,KAAAV,OAAAC,SAAA,mBACA,EAEA5C,cAAAP,EAAAD,GACAA,EAAA8D,SAAAH,IACAA,EAAAtD,UAAA,KAEAJ,EAAAI,UAAA,EACA,KAAAqC,WAAAzC,EAAAE,EACA,EAEAkB,YACA,IAAA0C,EAAA,IAAAC,KACA,IAAAC,EAAAF,EAAAG,UAGA,OAFAD,GAAA,EACAF,EAAAI,QAAAF,GACA,KAAAG,MAAAL,GAAAM,OAAA,aACA,EAEAlC,aACA,IAAAmC,EAAA,EAKA,OAJA,KAAAhD,SAAAwC,SAAAH,IACAW,GAAAX,EAAA9B,OAAA8B,EAAAlC,WAAAG,WAAA,IAEA,KAAAiB,MAAAyB,EAAAC,QAAA,GACAD,EAAAC,QAAA,EACA,EAEA,oBACA,QAAAZ,KAAA,KAAArC,SAAA,CACA,IAAAkD,EAAA,EACAA,EAAAb,EAAAlC,WAAA+C,UAAAb,EAAA9B,OAEA,IAAA4C,EAAA,CACAtE,GAAAwD,EAAAxD,GACAqE,aAEA,UACA,KAAArB,OAAAC,SAAA,oBAAAqB,EACA,OAAAC,GACA,KAAAC,SAAA,CACAC,KAAA,QACAC,QAAAH,GAEA,CACA,CACA,EAEA,oBACA,IACA,eAAA/B,EAAA,WAAAD,EAAA,aAAAE,EAAA,aAAAb,EAAA,MAAAc,GAAA,KACA,IAAAN,EAAA,CACAG,aACAC,WACAC,eACAC,MAAA,EAAAA,EACAd,gBAEAQ,EAAAR,qBACAQ,EAAAR,aAEA,MAAA+C,QAAA,KAAA3B,OAAAC,SAAA,iBAAAb,GACA,IAAAwC,EAAA,GACA,QAAApB,KAAA,KAAArC,SACAyD,EAAAnB,KAAAD,EAAAxD,IAEA,IAAA6E,EAAA,CAAAD,aACA,KAAA5B,OAAAC,SAAA,kBAAA4B,GACA,KAAAlC,QAAAgC,EACA,KAAAG,QAAArB,KACA,qBAAAd,qBAAA,KAAAD,SAEA,KAAAqC,cACA,KAAAP,SAAA,CACAC,KAAA,UACAC,QAAA,UAEA,OAAAH,GACA,KAAAC,SAAA,CACAC,KAAA,QACAC,QAAAH,GAEA,CACA,GAEAS,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACApF,YAAAqF,GAAAA,EAAApF,QAAAD,aAAA,GACAsB,SAAA+D,GAAAA,EAAA9D,KAAAD,UAAA,GACAgC,SAAA+B,GAAAA,EAAAC,KAAAhC,UAAA,KAGAlB,qBACA,OACA,KAAApC,YAAAuD,MAAAI,GACA,GAAAA,EAAA1C,cACA,EAEA,IC/Q8P,I,UCQ1PsE,GAAY,OACd,EACAjG,EACAgD,GACA,EACA,KACA,WACA,MAIF,EAAeiD,EAAiB,O","sources":["webpack://fruit_netshop/./src/pages/Trade/index.vue","webpack://fruit_netshop/src/pages/Trade/index.vue","webpack://fruit_netshop/./src/pages/Trade/index.vue?a051","webpack://fruit_netshop/./src/pages/Trade/index.vue?08fa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"aa\"},[_c('div',{staticClass:\"trade-container\"},[_c('el-steps',{staticStyle:{\"margin\":\"20px 0 30px 0\"},attrs:{\"active\":1,\"align-center\":\"\",\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"核对订单\",\"description\":\"请核对订单并选择收货地址\"}}),_c('el-step',{attrs:{\"title\":\"支付订单\",\"description\":\"请选择支付方式并进行支付\"}}),_c('el-step',{attrs:{\"title\":\"生成订单\",\"description\":\"支付成功，订单已生成，请等待发货，感谢您的支持！\"}})],1),_c('h3',{staticClass:\"title\"},[_vm._v(\"填写并核对订单信息\")]),_c('div',{staticClass:\"content\"},[_c('h5',{staticClass:\"receive\"},[_vm._v(\"收件人信息\")]),_vm._l((_vm.addressList),function(address){return _c('div',{key:address.id,staticClass:\"address clearFix\"},[_c('span',{staticClass:\"username\",class:{ selected: address.selected == true },on:{\"click\":function($event){return _vm.changeAddress(address, _vm.addressList)}}},[_vm._v(_vm._s(address.consignee))]),_c('p',{on:{\"click\":function($event){return _vm.changeAddress(address, _vm.addressList)}}},[_c('span',{staticClass:\"s1\"},[_vm._v(_vm._s(address.fullAddress))]),_c('span',{staticClass:\"s2\"},[_vm._v(_vm._s(address.phone))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(address.is_default == true),expression:\"address.is_default == true\"}],staticClass:\"s4\"},[_vm._v(\"默认地址\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(address.selected == true),expression:\"address.selected == true\"}],staticClass:\"s3\"},[_vm._v(\"已选择\")])])])}),_c('div',{staticClass:\"line\"}),_c('h5',{staticClass:\"pay\"},[_vm._v(\"支付方式\")]),_vm._m(0),_c('div',{staticClass:\"line\"}),_c('h5',{staticClass:\"pay\"},[_vm._v(\"送货清单\")]),_c('div',{staticClass:\"way\"},[_c('h5',{staticStyle:{\"font-size\":\"16px\",\"letter-spacing\":\"1px\"}},[_vm._v(\"配送方式\")]),_c('div',{staticClass:\"info clearFix\"},[_c('img',{attrs:{\"src\":require(\"./images/2.jpg\"),\"alt\":\"\"}}),_c('p',{staticClass:\"time\"},[_vm._v(\" 配送时间：\"),_c('span',[_vm._v(_vm._s(`${_vm.Estimated()} 9:00~15:00`))]),_vm._v(\" 送达 \")])])]),_c('div',{staticClass:\"detail\"},[_c('h5',{staticStyle:{\"font-size\":\"16px\",\"letter-spacing\":\"1px\"}},[_vm._v(\"商品清单\")]),_vm._l((_vm.cartList),function(cart){return _c('ul',{key:cart.id,staticClass:\"list clearFix\"},[_c('li',[_c('img',{staticClass:\"goodsImg\",attrs:{\"src\":`${_vm.srcUrl}${cart.goods_info.goods_img[0]}`}})]),_c('li',[_c('p',[_vm._v(_vm._s(cart.goods_info.goods_name))]),_c('h4',[_vm._v(\"7天无理由退货\")])]),_c('li',[_c('h3',[_vm._v(\"￥\"+_vm._s(cart.goods_info.goods_price))])]),_c('li',{staticClass:\"number\"},[_vm._v(\"X\"+_vm._s(cart.number))]),_c('li',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"有货\")])])})],2),_c('div',{staticClass:\"bbs\"},[_c('h5',{staticClass:\"bbs1\"},[_vm._v(\"买家留言：\")]),_c('el-input',{staticClass:\"remarks-cont\",attrs:{\"placeholder\":\"建议留言前先与商家沟通确认\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.order_remark),callback:function ($$v) {_vm.order_remark=$$v},expression:\"order_remark\"}})],1)],2),_c('div',{staticClass:\"foo\"},[_c('div',{staticClass:\"trade\"},[_c('div',{staticClass:\"num\"},[_vm._v(\" 商品数量：\"),_c('span',[_vm._v(_vm._s(_vm.cartList.length))])]),_c('div',{staticClass:\"price\"},[_vm._v(\" 应付金额:　\"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.totalMoney()))])]),_c('div',{staticClass:\"receiveInfo\"},[_c('span',{staticClass:\"t1\"},[_vm._v(\" 寄送至:\")]),_c('span',{staticClass:\"span1\"},[_vm._v(_vm._s(_vm.userDefaultAddress.fullAddress))])]),_c('div',{staticClass:\"con\"},[_c('span',{staticClass:\"t2\"},[_vm._v(\"收货人：\")]),_c('span',{staticClass:\"span2\"},[_vm._v(_vm._s(_vm.userDefaultAddress.consignee))]),_c('span',{staticClass:\"span3\"},[_vm._v(_vm._s(_vm.userDefaultAddress.phone))])])]),_c('div',{staticClass:\"sub clearFix\"},[_c('div',{on:{\"click\":_vm.submitOrder}},[_vm._v(\"提交订单\")])])])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"address clearFix\"},[_c('span',{staticClass:\"username selected\"},[_vm._v(\"在线支付\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"aa\">\r\n    <div class=\"trade-container\">\r\n      <el-steps\r\n        :active=\"1\"\r\n        align-center\r\n        finish-status=\"success\"\r\n        style=\"margin: 20px 0 30px 0\"\r\n      >\r\n        <el-step\r\n          title=\"核对订单\"\r\n          description=\"请核对订单并选择收货地址\"\r\n        ></el-step>\r\n        <el-step\r\n          title=\"支付订单\"\r\n          description=\"请选择支付方式并进行支付\"\r\n        ></el-step>\r\n        <el-step\r\n          title=\"生成订单\"\r\n          description=\"支付成功，订单已生成，请等待发货，感谢您的支持！\"\r\n        ></el-step>\r\n      </el-steps>\r\n\r\n      <h3 class=\"title\">填写并核对订单信息</h3>\r\n      <div class=\"content\">\r\n        <h5 class=\"receive\">收件人信息</h5>\r\n        <div\r\n          class=\"address clearFix\"\r\n          v-for=\"address in addressList\"\r\n          :key=\"address.id\"\r\n        >\r\n          <span\r\n            @click=\"changeAddress(address, addressList)\"\r\n            class=\"username\"\r\n            :class=\"{ selected: address.selected == true }\"\r\n            >{{ address.consignee }}</span\r\n          >\r\n          <p @click=\"changeAddress(address, addressList)\">\r\n            <span class=\"s1\">{{ address.fullAddress }}</span>\r\n            <span class=\"s2\">{{ address.phone }}</span>\r\n            <!-- 搞个默认地址，同时用selected来选择 -->\r\n            <span class=\"s4\" v-show=\"address.is_default == true\">默认地址</span>\r\n            <span class=\"s3\" v-show=\"address.selected == true\">已选择</span>\r\n          </p>\r\n          <!-- <div class=\"ss\">\r\n            \r\n          </div> -->\r\n        </div>\r\n        <div class=\"line\"></div>\r\n        <h5 class=\"pay\">支付方式</h5>\r\n        <div class=\"address clearFix\">\r\n          <span class=\"username selected\">在线支付</span>\r\n        </div>\r\n        <div class=\"line\"></div>\r\n        <h5 class=\"pay\">送货清单</h5>\r\n        <div class=\"way\">\r\n          <h5 style=\"font-size: 16px; letter-spacing: 1px\">配送方式</h5>\r\n          <div class=\"info clearFix\">\r\n            <img src=\"./images/2.jpg\" alt=\"\" />\r\n            <p class=\"time\">\r\n              配送时间：<span>{{ `${Estimated()} 9:00~15:00` }}</span> 送达\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"detail\">\r\n          <h5 style=\"font-size: 16px; letter-spacing: 1px\">商品清单</h5>\r\n          <ul class=\"list clearFix\" v-for=\"cart in cartList\" :key=\"cart.id\">\r\n            <li>\r\n              <img\r\n                :src=\"`${srcUrl}${cart.goods_info.goods_img[0]}`\"\r\n                class=\"goodsImg\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <p>{{ cart.goods_info.goods_name }}</p>\r\n              <h4>7天无理由退货</h4>\r\n            </li>\r\n            <li>\r\n              <h3>￥{{ cart.goods_info.goods_price }}</h3>\r\n            </li>\r\n            <li class=\"number\">X{{ cart.number }}</li>\r\n            <li style=\"font-size: 16px\">有货</li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"bbs\">\r\n          <h5 class=\"bbs1\">买家留言：</h5>\r\n          <el-input\r\n            placeholder=\"建议留言前先与商家沟通确认\"\r\n            class=\"remarks-cont\"\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            v-model=\"order_remark\"\r\n          >\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"foo\">\r\n        <div class=\"trade\">\r\n          <div class=\"num\">\r\n            商品数量：<span>{{ cartList.length }}</span>\r\n          </div>\r\n          <div class=\"price\">\r\n            应付金额:　<span>¥{{ totalMoney() }}</span>\r\n          </div>\r\n          <div class=\"receiveInfo\">\r\n            <span class=\"t1\"> 寄送至:</span>\r\n            <span class=\"span1\">{{ userDefaultAddress.fullAddress }}</span>\r\n          </div>\r\n          <div class=\"con\">\r\n            <span class=\"t2\">收货人：</span\r\n            ><span class=\"span2\">{{ userDefaultAddress.consignee }}</span>\r\n            <span class=\"span3\">{{ userDefaultAddress.phone }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"sub clearFix\">\r\n          <div @click=\"submitOrder\">提交订单</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'Trade',\r\n  data() {\r\n    return {\r\n      pageNum: 1,\r\n      pageSize: 1000,\r\n      order_remark: '',\r\n      address_id: 0,\r\n      goods_id: '',\r\n      goods_number: '',\r\n      total: 0,\r\n      orderId: 0\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.getAddress()\r\n    await this.getCart()\r\n    await this.getUserInfo()\r\n  },\r\n  methods: {\r\n    //获取地址列表\r\n    async getAddress() {\r\n      await this.$store.dispatch('address/getAddressList', {\r\n        pageNum: this.pageNum,\r\n        pageSize: this.pageSize,\r\n        user_id: this.userInfo.id\r\n      })\r\n      this.address_id = this.addressList.find((i) => i.is_default == true).id\r\n    },\r\n    //获取已选购物车\r\n    async getCart() {\r\n      await this.$store.dispatch('cart/getCartList', {\r\n        id: this.userInfo.id,\r\n        pageNum: this.pageNum,\r\n        pageSize: this.pageSize,\r\n        selected: 1\r\n      })\r\n      let gid = []\r\n      let gnum = []\r\n      for (let item of this.cartList) {\r\n        gid.push(item.goods_info.id)\r\n        gnum.push(item.number)\r\n      }\r\n      this.goods_id = gid.toString()\r\n      this.goods_number = gnum.toString()\r\n    },\r\n    //获取用户信息\r\n    async getUserInfo() {\r\n      await this.$store.dispatch('user/getUserInfo')\r\n    },\r\n    //切换购物地址\r\n    changeAddress(address, addressList) {\r\n      addressList.forEach((item) => {\r\n        item.selected = false\r\n      })\r\n      address.selected = true\r\n      this.address_id = address.id\r\n    },\r\n    //预计送达时间\r\n    Estimated() {\r\n      let date = new Date()\r\n      var day = date.getDate()\r\n      day += 2\r\n      date.setDate(day)\r\n      return this.dayjs(date).format('YYYY-MM-DD')\r\n    },\r\n    //总价格\r\n    totalMoney() {\r\n      let all = 0\r\n      this.cartList.forEach((item) => {\r\n        all = all + item.number * item.goods_info.goods_price\r\n      })\r\n      this.total = all.toFixed(2)\r\n      return all.toFixed(2)\r\n    },\r\n    //修订商品数量\r\n    async updateGoods() {\r\n      for (let item of this.cartList) {\r\n        let goods_num = 0\r\n        goods_num = item.goods_info.goods_num - item.number\r\n\r\n        let info = {\r\n          id: item.id,\r\n          goods_num\r\n        }\r\n        try {\r\n          await this.$store.dispatch('goods/updateGoods', info)\r\n        } catch (error) {\r\n          this.$message({\r\n            type: 'error',\r\n            message: error\r\n          })\r\n        }\r\n      }\r\n    },\r\n    //提交订单\r\n    async submitOrder() {\r\n      try {\r\n        const { goods_id, address_id, goods_number, order_remark, total } = this\r\n        let data = {\r\n          address_id,\r\n          goods_id,\r\n          goods_number,\r\n          total: total * 1,\r\n          order_remark\r\n        }\r\n        if (!data.order_remark) {\r\n          delete data.order_remark\r\n        }\r\n        const res = await this.$store.dispatch('order/addOrder', data)\r\n        let ids = []\r\n        for (let item of this.cartList) {\r\n          ids.push(item.id)\r\n        }\r\n        let data1 = { ids }\r\n        await this.$store.dispatch('cart/deleteCart', data1),\r\n          (this.orderId = res)\r\n        this.$router.push(\r\n          `/pay?orderId=${this.orderId}&&totalFee=${this.total}`\r\n        )\r\n        this.updateGoods()\r\n        this.$message({\r\n          type: 'success',\r\n          message: '生成订单成功'\r\n        })\r\n      } catch (error) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: error\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      addressList: (state) => state.address.addressList || [],\r\n      cartList: (state) => state.cart.cartList || [],\r\n      userInfo: (state) => state.user.userInfo || {}\r\n    }),\r\n    //选择最后的地址\r\n    userDefaultAddress() {\r\n      return (\r\n        this.addressList.find((item) => {\r\n          return item.is_default == true\r\n        }) || {}\r\n      )\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.aa {\r\n  width: 100%;\r\n  .trade-container {\r\n    width: 1500px;\r\n    margin: 0 auto;\r\n\r\n    .title {\r\n      width: 1200px;\r\n      letter-spacing: 2px;\r\n      margin: 0 auto;\r\n      font-size: 18px;\r\n      line-height: 21px;\r\n    }\r\n\r\n    .content {\r\n      width: 1200px;\r\n      margin: 10px auto 0;\r\n      border: 1px solid rgb(221, 221, 221);\r\n      padding: 25px;\r\n      box-sizing: border-box;\r\n\r\n      .receive,\r\n      .pay {\r\n        color: #000;\r\n        font-size: 16px;\r\n        line-height: 36px;\r\n        margin: 18px 0;\r\n      }\r\n\r\n      .address {\r\n        padding-left: 20px;\r\n        margin-bottom: 15px;\r\n\r\n        .username {\r\n          float: left;\r\n          width: 150px;\r\n          height: 40px;\r\n          line-height: 40px;\r\n          text-align: center;\r\n          border: 1px solid #ddd;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          position: relative;\r\n          color: #575252;\r\n        }\r\n\r\n        .username::after {\r\n          content: '';\r\n          display: none;\r\n          width: 13px;\r\n          height: 13px;\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: url(./images/choosed.png) no-repeat;\r\n        }\r\n\r\n        .username.selected {\r\n          // display: inline-block;\r\n          // border: inherit;\r\n          // margin-bottom: 0px;\r\n          // box-sizing: border-box;\r\n          border-color: #e1251b;\r\n        }\r\n\r\n        .username.selected::after {\r\n          display: block;\r\n        }\r\n\r\n        p {\r\n          width: 900px;\r\n          float: left;\r\n          line-height: 30px;\r\n          margin-left: 10px;\r\n          padding: 10px;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          .s1 {\r\n            font-size: 14px;\r\n            float: left;\r\n            margin-left: 20px;\r\n            color: #628e05;\r\n            transition: all 0.5s;\r\n          }\r\n\r\n          .s2 {\r\n            float: left;\r\n            margin-left: 20px;\r\n            font-size: 14px;\r\n            color: #3a8ee6;\r\n          }\r\n          .s3 {\r\n            height: 20px;\r\n            line-height: 20px;\r\n            padding: 3px 12px;\r\n            font-size: 14px;\r\n            border-radius: 10px;\r\n            margin-left: 10px;\r\n            background-color: #f0f9eb;\r\n            border: 1px solid #82c720;\r\n            color: #82c720;\r\n            text-align: center;\r\n            transition: all 0.5s;\r\n            &:hover {\r\n              color: #000;\r\n              // font-size: 16px;\r\n              transform: scale(1.1);\r\n              -ms-transform: scale(1.1);\r\n              -webkit-transform: scale(1.1);\r\n              -o-transform: scale(1.1);\r\n              -moz-transform: scale(1.1);\r\n            }\r\n          }\r\n          .s4 {\r\n            height: 25px;\r\n            line-height: 25px;\r\n            margin-left: 10px;\r\n            font-size: 14px;\r\n            padding: 1px 12px;\r\n            border-radius: 10px;\r\n            background-color: rgb(254, 240, 240);\r\n            border: 1px solid rgb(251, 196, 196);\r\n            color: rgb(245, 108, 108);\r\n            text-align: center;\r\n            transition: all 0.5s;\r\n            &:hover {\r\n              transform: scale(1.1);\r\n              -ms-transform: scale(1.1);\r\n              -webkit-transform: scale(1.1);\r\n              -o-transform: scale(1.1);\r\n              -moz-transform: scale(1.1);\r\n            }\r\n          }\r\n        }\r\n\r\n        p:hover {\r\n          background-color: #ddd;\r\n        }\r\n\r\n        // .ss {\r\n        // }\r\n      }\r\n\r\n      .line {\r\n        height: 1px;\r\n        background-color: #ddd;\r\n      }\r\n\r\n      .way {\r\n        width: 1080px;\r\n        height: 110px;\r\n        background: #f4f4f4;\r\n        padding: 15px;\r\n        margin: 0 auto;\r\n\r\n        .info {\r\n          margin-top: 20px;\r\n          display: flex;\r\n\r\n          img {\r\n            border-radius: 10px;\r\n          }\r\n          .time {\r\n            width: 500px;\r\n            height: 50px;\r\n            line-height: 50px;\r\n            font-size: 16px;\r\n            margin-left: 20px;\r\n            transition: all 0.5s;\r\n            &:hover {\r\n              font-size: 20px;\r\n              span {\r\n                font-size: 18px;\r\n              }\r\n            }\r\n\r\n            span {\r\n              color: #628e05;\r\n              font-size: 16px;\r\n              padding: 0 10px;\r\n              transition: all 0.5s;\r\n            }\r\n          }\r\n\r\n          .s1 {\r\n            float: left;\r\n            border: 1px solid #ddd;\r\n            width: 120px;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            text-align: center;\r\n            margin-right: 10px;\r\n          }\r\n\r\n          p {\r\n            line-height: 30px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .detail {\r\n        width: 1080px;\r\n\r\n        background: #feedef;\r\n        padding: 15px;\r\n        margin: 2px auto 0;\r\n\r\n        h5 {\r\n          line-height: 50px;\r\n        }\r\n\r\n        .list {\r\n          display: flex;\r\n          justify-content: space-between;\r\n\r\n          .goodsImg {\r\n            height: 120px;\r\n            width: 120px;\r\n            transition: all 0.5s;\r\n            &:hover {\r\n              transform: scale(1.1);\r\n              -ms-transform: scale(1.1);\r\n              -webkit-transform: scale(1.1);\r\n              -o-transform: scale(1.1);\r\n              -moz-transform: scale(1.1);\r\n            }\r\n          }\r\n          .number {\r\n            font-size: 16px;\r\n            letter-spacing: 2px;\r\n            width: 50px;\r\n            transition: all 0.5s;\r\n\r\n            &:hover {\r\n              font-size: 20px;\r\n            }\r\n          }\r\n\r\n          li {\r\n            line-height: 30px;\r\n\r\n            p {\r\n              font-size: 16px;\r\n              margin-bottom: 20px;\r\n              transition: all 0.5s;\r\n              width: 120px;\r\n              &:hover {\r\n                font-size: 18px;\r\n              }\r\n            }\r\n\r\n            h4 {\r\n              font-size: 16px;\r\n\r\n              color: #c81623;\r\n              font-weight: 400;\r\n            }\r\n\r\n            h3 {\r\n              font-size: 20px;\r\n              color: #e12228;\r\n              transition: all 0.5s;\r\n              width: 120px;\r\n\r\n              &:hover {\r\n                font-size: 22px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .bbs {\r\n        margin-top: 20px;\r\n        margin-bottom: 15px;\r\n\r\n        .bbs1 {\r\n          font-size: 16px;\r\n          line-height: 50px;\r\n        }\r\n\r\n        .remarks-cont {\r\n          width: 100%;\r\n          border-color: #e4e2e2;\r\n          line-height: 1.8;\r\n          outline: none;\r\n          resize: none;\r\n        }\r\n      }\r\n\r\n      .bill {\r\n        h5 {\r\n          line-height: 50px;\r\n        }\r\n\r\n        div {\r\n          padding-left: 15px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .foo {\r\n      box-sizing: border-box;\r\n      width: 1200px;\r\n      padding: 10px;\r\n      margin: 20px 0;\r\n      margin-left: 150px;\r\n      background-color: #f4f4f4;\r\n      border: 1px solid #ddd;\r\n      display: flex;\r\n      margin-bottom: 80px;\r\n      .trade {\r\n        div {\r\n          line-height: 30px;\r\n        }\r\n        .num {\r\n          font-size: 18px;\r\n          span {\r\n            margin-left: 30px;\r\n            margin-right: 22px;\r\n            font-size: 22px;\r\n            font-weight: 700;\r\n            color: #e12228;\r\n          }\r\n        }\r\n\r\n        .price {\r\n          font-size: 18px;\r\n          span {\r\n            color: #e12228;\r\n            font-weight: 700;\r\n            font-size: 20px;\r\n          }\r\n        }\r\n\r\n        .receiveInfo {\r\n          color: #999;\r\n          font-size: 14px;\r\n          width: 1000px;\r\n          .t1 {\r\n            color: #000;\r\n            font-size: 18px;\r\n          }\r\n          .span1 {\r\n            margin-left: 20px;\r\n          }\r\n        }\r\n\r\n        .con {\r\n          width: 1000px;\r\n          color: #999;\r\n          font-size: 14px;\r\n          .t2 {\r\n            color: #000;\r\n            font-size: 18px;\r\n          }\r\n          .span2 {\r\n            margin-left: 5px;\r\n          }\r\n          .span3 {\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .sub {\r\n        margin: 30px;\r\n\r\n        div {\r\n          width: 150px;\r\n          height: 50px;\r\n          font-size: 18px;\r\n          color: #fff;\r\n          line-height: 50px;\r\n          text-align: center;\r\n          font-weight: bold;\r\n          letter-spacing: 1px;\r\n          border-radius: 20px;\r\n          background-color: #e12228;\r\n          position: relative;\r\n          left: -50px;\r\n          top: 10px;\r\n          transition: all 0.5s;\r\n          &:hover {\r\n            background-color: #628e05;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b0ed570e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b0ed570e&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0ed570e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","_v","_l","addressList","address","key","id","class","selected","on","$event","changeAddress","_s","consignee","fullAddress","phone","directives","name","rawName","value","is_default","expression","_m","require","Estimated","cartList","cart","srcUrl","goods_info","goods_img","goods_name","goods_price","number","model","order_remark","callback","$$v","length","totalMoney","userDefaultAddress","submitOrder","staticRenderFns","data","pageNum","pageSize","address_id","goods_id","goods_number","total","orderId","getAddress","getCart","getUserInfo","methods","$store","dispatch","user_id","userInfo","find","i","gid","gnum","item","push","toString","forEach","date","Date","day","getDate","setDate","dayjs","format","all","toFixed","goods_num","info","error","$message","type","message","res","ids","data1","$router","updateGoods","computed","mapState","state","user","component"],"sourceRoot":""}